<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Laporan PB KJL ZON 3</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@keyframes blink {
  0%,50%,100%{opacity:1}25%,75%{opacity:0}
}
.blink-red{animation:blink 4s infinite}
</style>
</head>

<body class="min-h-screen relative overflow-hidden">

<div class="absolute inset-0 bg-gradient-to-br from-black via-gray-900 to-gray-800"></div>

<div class="relative max-w-4xl mx-auto p-4 space-y-3">

<!-- Banner (dipendekkan) -->
<nav class="h-24 rounded-xl shadow border border-white/30 bg-cover bg-center"
style="background-image:url('DSC_0085_1.jpg')"></nav>

<div class="text-center text-white space-y-1">
<h2 class="text-xl font-extrabold">ğŸ¤£by PPB NAZMIğŸ‘®ğŸ¿â€â™‚ï¸</h2>
<p class="text-xs italic blink-red">
â†’ pilih stesen â†’ pilih nama â†’ copy & wssp
</p>
</div>

<div class="bg-white/70 backdrop-blur p-4 rounded-xl shadow space-y-3 text-sm">

<!-- STESEN -->
<div>
<label class="font-semibold">Stesen hari ini</label>
<select id="stesenSelect" class="w-full p-1.5 rounded shadow"></select>
</div>

<!-- ANGGOTA -->
<div class="grid grid-cols-2 gap-2">
<div>
<label class="font-semibold">Anggota Bertugas</label>
<select id="anggotaSelect" class="w-full p-1.5 rounded shadow"></select>
</div>

<div>
<label class="font-semibold">Anggota</label>
<select id="anggotaTambahan" class="w-full p-1.5 rounded shadow">
<option value="">â€” kosong â€”</option>
</select>
</div>
</div>

<!-- TAMBAH STESEN -->
<div class="flex gap-2">
<input id="newStesen" class="flex-1 p-1.5 rounded shadow" placeholder="Tambah stesen">
<button id="addStesen" class="px-3 bg-blue-600 text-white rounded">
TambahğŸš‰
</button>
</div>

<button id="sendReport"
class="w-full bg-green-600 text-white p-2 rounded font-semibold">
Copy & Buka WhatsApp
</button>

</div>
</div>

<script>
const defaultStesen=[
"ABDULLAH HUKUM","KERINCHI","UNIVERSITI","TAMAN JAYA",
"ASIA JAYA","TAMAN PARAMOUNT","TAMAN BAHAGIA","KELANA JAYA"
];

const anggotaList=[
"PB NAZMI","PPB AHMAD TARMIZI","PB MUHAMMAD ALIF",
"PB SAINOL ARIFFIN","PPB ILLIYAS","PB ADEHA","PPB AFIFAH",
"PB ZUHAIRAH","PB NUR SYAFIKAH NADIA","PB SOLEH",
"PB HAZIQ","PB NUR SYAHIRA","PB SYASYA"
];

let stesenList=JSON.parse(localStorage.getItem("stesenList"))||defaultStesen;

const stesenSelect=document.getElementById("stesenSelect");
const anggotaSelect=document.getElementById("anggotaSelect");
const anggotaTambahan=document.getElementById("anggotaTambahan");

function loadDropdown(){
stesenSelect.innerHTML="";
stesenList.forEach(s=>{
let o=document.createElement("option");
o.textContent=s;stesenSelect.appendChild(o);
});

[anggotaSelect,anggotaTambahan].forEach(sel=>{
sel.innerHTML=sel===anggotaTambahan?'<option value="">â€” kosong â€”</option>':"";
anggotaList.forEach(a=>{
let o=document.createElement("option");
o.textContent=a;sel.appendChild(o);
});
});
}
loadDropdown();

document.getElementById("addStesen").onclick=()=>{
let v=newStesen.value.trim();
if(v&&!stesenList.includes(v)){
stesenList.push(v);
localStorage.setItem("stesenList",JSON.stringify(stesenList));
loadDropdown();newStesen.value="";
}
};

function generateText(){
let d=new Date();
let tarikh=d.toLocaleDateString("ms-MY");
let masa=d.toTimeString().slice(0,5).replace(":","")+" HRS";

let anggota=[
anggotaSelect.value,
anggotaTambahan.value
].filter(Boolean).join("\n");

return `*Assalamualaikum wbt & Salam Sejahtera YDH Datuk/Tuan/Puan,*

Laporan penugasan anggota bertugas Aliran Kelana Jaya Jabatan Sekuriti.

TARIKH : ${tarikh}
MASA : ${masa}
TUGASAN : KAWALAN DAN PEMANTAUAN DI PLATFORM 1,2
LOKASI : STESEN ${stesenSelect.value} (KJL)

Anggota Bertugas:-
${anggota}

*#TERUSKAN PERKARA BAIK*`;
}

document.getElementById("sendReport").onclick=()=>{
let t=generateText();
navigator.clipboard.writeText(t);
window.open("https://api.whatsapp.com/send?text="+encodeURIComponent(t));
};
</script>
</body>
</html>