<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Laporan Auto WhatsApp</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-100 via-white to-blue-200 min-h-screen flex items-center justify-center">

<div class="w-full max-w-2xl bg-white p-6 rounded-2xl shadow-lg space-y-4">
  <h2 class="text-xl font-bold text-center">ðŸ“‹ Sistem Laporan Auto WhatsApp</h2>

  <!-- Pilih Jenis Laporan -->
  <label class="block">Jenis Laporan</label>
  <select id="jenisLaporan" class="w-full border p-2 rounded">
    <option value="jam">Laporan Keadaan Stesen Setiap Jam</option>
    <option value="redmike">Laporan Redmike</option>
  </select>

  <!-- Pilihan Stesen -->
  <label class="block">Stesen</label>
  <select id="stesen" class="w-full border p-2 rounded">
    <option value="ASIA JAYA">ASIA JAYA</option>
    <option value="KELANA JAYA">KELANA JAYA</option>
    <option value="TAMAN BAHAGIA">TAMAN BAHAGIA</option>
  </select>

  <!-- Form Redmike -->
  <div id="formRedmike" class="hidden space-y-2">
    <label>2. Masa</label>
    <input id="masa" type="text" class="w-full border p-2 rounded" placeholder="Contoh: 1755 HRS">

    <label>4. Ketua Zon/Penyelia</label>
    <input id="ketuaZon" type="text" class="w-full border p-2 rounded">

    <label>5. SCC Bertugas</label>
    <input id="scc" type="text" class="w-full border p-2 rounded">

    <label>6. Anggota STN</label>
    <input id="anggota" type="text" class="w-full border p-2 rounded">

    <label>7. Hosler/CSA</label>
    <input id="csa" type="text" class="w-full border p-2 rounded">

    <label>8. Nama Mangsa</label>
    <input id="nama" type="text" class="w-full border p-2 rounded">

    <label>No MyKad</label>
    <input id="mykad" type="text" class="w-full border p-2 rounded">

    <label>Jantina</label>
    <input id="jantina" type="text" class="w-full border p-2 rounded">

    <label>Umur</label>
    <input id="umur" type="text" class="w-full border p-2 rounded">

    <label>Warganegara</label>
    <input id="warga" type="text" class="w-full border p-2 rounded">

    <label>No Telefon</label>
    <input id="telefon" type="text" class="w-full border p-2 rounded">

    <label>Pekerjaan</label>
    <input id="kerja" type="text" class="w-full border p-2 rounded">

    <label>Alamat</label>
    <textarea id="alamat" class="w-full border p-2 rounded"></textarea>

    <label>9. Kecederaan</label>
    <input id="kecederaan" type="text" class="w-full border p-2 rounded">

    <label>10. Sebab Kejadian</label>
    <input id="sebab" type="text" class="w-full border p-2 rounded">

    <label>11. Red State</label>
    <input id="redstate" type="text" class="w-full border p-2 rounded">

    <label>12. Green State</label>
    <input id="greenstate" type="text" class="w-full border p-2 rounded">

    <label>13. Pegawai Perubatan</label>
    <input id="pegawai" type="text" class="w-full border p-2 rounded">

    <label>14. Pemandu Ambulans</label>
    <input id="pemandu" type="text" class="w-full border p-2 rounded">

    <label>15. Butiran Ambulans</label>
    <input id="ambulans" type="text" class="w-full border p-2 rounded">

    <label>16. Kronologi Ringkasan Kejadian</label>
    <textarea id="kronologi" class="w-full border p-2 rounded" rows="5"></textarea>

    <label>17. Tindakan</label>
    <textarea id="tindakan" class="w-full border p-2 rounded" rows="4"></textarea>
  </div>

  <!-- Output -->
  <textarea id="output" class="w-full border p-2 rounded h-60"></textarea>

  <!-- Button -->
  <div class="flex space-x-2">
    <button onclick="generate()" class="flex-1 bg-blue-500 text-white p-2 rounded">Generate</button>
    <button onclick="copyText()" class="flex-1 bg-green-500 text-white p-2 rounded">Copy</button>
    <button onclick="sendWA()" class="flex-1 bg-purple-500 text-white p-2 rounded">Buka WhatsApp</button>
  </div>
</div>

<script>
const jenis = document.getElementById("jenisLaporan");
const formRedmike = document.getElementById("formRedmike");

jenis.addEventListener("change", () => {
  formRedmike.classList.toggle("hidden", jenis.value !== "redmike");
});

function generate() {
  const today = new Date();
  const tarikh = today.toLocaleDateString("ms-MY");

  const jenisVal = jenis.value;
  const stesen = document.getElementById("stesen").value;

  let laporan = "";

  if (jenisVal === "jam") {
    laporan = `*LAPORAN KEADAAN STESEN SETIAP JAM*\n
Tarikh: ${tarikh}
Masa: ${today.toLocaleTimeString("ms-MY")}
Stesen: ${stesen}`;
  }

  if (jenisVal === "redmike") {
    const masa = document.getElementById("masa").value;
    const ketuaZon = document.getElementById("ketuaZon").value;
    const scc = document.getElementById("scc").value;
    const anggota = document.getElementById("anggota").value;
    const csa = document.getElementById("csa").value;
    const nama = document.getElementById("nama").value;
    const mykad = document.getElementById("mykad").value;
    const jantina = document.getElementById("jantina").value;
    const umur = document.getElementById("umur").value;
    const warga = document.getElementById("warga").value;
    const telefon = document.getElementById("telefon").value;
    const kerja = document.getElementById("kerja").value;
    const alamat = document.getElementById("alamat").value;
    const kecederaan = document.getElementById("kecederaan").value;
    const sebab = document.getElementById("sebab").value;
    const redstate = document.getElementById("redstate").value;
    const greenstate = document.getElementById("greenstate").value;
    const pegawai = document.getElementById("pegawai").value;
    const pemandu = document.getElementById("pemandu").value;
    const ambulans = document.getElementById("ambulans").value;
    const kronologi = document.getElementById("kronologi").value;
    const tindakan = document.getElementById("tindakan").value;

    laporan = `*ASSALAMMUALAIKUM TUAN/PUAN*

*LAPORAN AWAL KEJADIAN RED MIKE STN ${stesen}*

*1. TARIKH*
- ${tarikh}

*2. MASA*
- ${masa}

*3. STESEN*
- ${stesen}

*4. KETUA ZON/PENYELIA BERTUGAS*
- ${ketuaZon}

*5. SCC BERTUGAS*
- ${scc}

*6. ANGGOTA STN BERTUGAS*
- ${anggota}

*7. HOSLER/CSA BERTUGAS*
- ${csa}

*8. BUTIR-BUTIR MANGSA*
NAMA : ${nama}
NO MYKAD : ${mykad}
JANTINA : ${jantina}
UMUR : ${umur}
W/NEGARA : ${warga}
NO TEL : ${telefon}
PEKERJAAN : ${kerja}
ALAMAT : ${alamat}

*9. KECEDERAAN :*
- ${kecederaan}

*10. SEBAB KEJADIAN :*
- ${sebab}

*11. RED STATE :*
- ${redstate}

*12. GREEN STATE :*
- ${greenstate}

*13. BUTIRAN PEGAWAI PERUBATAN :*
- ${pegawai}

*14. BUTIRAN PEMANDU AMBULAN :*
- ${pemandu}

*15. BUTIRAN AMBULAN :*
- ${ambulans}

*16. KRONOLOGI RINGKASAN KEJADIAN :*
${kronologi}

*17. TINDAKAN :*
${tindakan}

*Sekian Laporan kejadian, Sekian terima kasih.*`;
  }

  document.getElementById("output").value = laporan;
}

function copyText() {
  const output = document.getElementById("output");
  output.select();
  document.execCommand("copy");
  alert("Laporan dicopy!");
}

function sendWA() {
  const text = encodeURIComponent(document.getElementById("output").value);
  window.open(`https://wa.me/?text=${text}`, "_blank");
}
</script>

</body>
</html>